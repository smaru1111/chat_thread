# 01. Research - 研究概要と評価設計

## 📋 概要
本ドキュメントは、本リポジトリのチャットアプリを用いて、**線形チャット**と**スレッド型チャット（1階層）**のUXを比較評価するための研究概要と評価設計をまとめます。

関連ドキュメント：
- 要件：`02_requirements.md`
- データモデル：`03_models.md`
- API：`05_api_design.md`
- UI/UX：`06_ui_ux.md`

---

## ① 研究全体の要約（Purpose / Problem / Approach）
### 研究目的
会話が分岐・再帰しやすい実世界の対話に対して、従来の線形チャットUIは「話題の混線」「目的の文脈への復帰の難しさ」を生みやすい。  
そこで、会話構造をスレッドとして扱うUIを実装し、**線形UIとの比較によりUXがどのように変化するか**を評価する。

### 解決方針（アプローチ）
- 会話を **メイン（0階層）** と **スレッド（1階層）** に分けて表示する（Slack型）
- LLMへ送る文脈もUI条件に合わせて切り替える（比較案B）

---

## ② 対象システムの要点（評価に関わる部分）
### UI構造
`06_ui_ux.md` に基づき、以下の構造で会話を扱う。

- **線形（linear）**：メッセージを時系列で表示（親子関係は提示しない）
- **スレッド（thread）**：メイン（中央）+ スレッド（右ペイン）の2領域で表示（1階層）

### LLMへの文脈投入（比較案B）
本研究は「UI」だけでなく「LLMへ送る文脈」も条件に含める。

- **線形（linear）**：当該ユーザーメッセージ時点までの会話履歴を時系列で投入
- **スレッド（thread）**：`02_requirements.md` の **FR-3.1**（枝文脈：`[R1..Rk] + 祖先チェーン`）

実装上、`/api/messages/:id/complete?mode=linear|thread` で切替可能。

---

## ③ 評価方法
### 被験者（例）
- 被験者：数名〜十数名程度（学部卒業研究として実施可能な範囲）
- 属性：年齢層、LLM利用経験の有無/頻度を簡単に記録する

### 評価タスク（例）
両条件を比較するため、参加者が同程度の会話量を経験できるタスクを用意する。

- **タスクA（単一話題）**：短い質問と追加質問を行い、結論を得る
- **タスクB（分岐・復帰）**：1つの回答から別方向に深掘りし、メインに戻って最終案をまとめる

※ タスク内容は、参加者が理解しやすく、評価観点（分岐・復帰・混線）を体験できるものにする。

### 実施手順（例）
1. 研究説明・同意取得
2. 事前アンケート（LLM利用経験など）
3. 条件1（線形 or スレッド）でタスク実施
4. 条件1のアンケート回答（5段階評価）
5. 条件2でタスク実施
6. 条件2のアンケート回答（5段階評価）
7. 任意：自由記述（良かった点・困った点）

順序効果を抑えるため、参加者の一部は **線形→スレッド**、残りは **スレッド→線形** の順で実施する（カウンターバランス）。

---

## ④ アンケート項目（5段階評価）
各項目を **1（低い）〜5（高い）** の5段階で評価する。

例：
1. **使いやすさ**：操作が直感的で、迷わず利用できた
2. **会話の分かりやすさ**：今どの話題（文脈）を扱っているか理解しやすかった
3. **話題への復帰のしやすさ**：前の話題に戻って続きから会話しやすかった
4. **混線のしにくさ**：別の話題が混ざって混乱することが少なかった
5. **満足度**：全体として満足できる体験だった

※ 研究目的に合わせて、項目数は必要最小限に調整する。

---

## ⑤ 結果のまとめ方（記述・集計の方針）
### 集計
- 各条件（線形/スレッド）について、項目ごとの平均値（必要なら標準偏差）を算出する
- 参加者が少数の場合は、差の傾向を中心に整理し、自由記述を併記して解釈する

### 記述（例）
- 「使いやすさ」「会話の分かりやすさ」「復帰のしやすさ」など項目ごとに、線形/スレッドの評価傾向を表で示す
- 自由記述から代表的なコメント（例：復帰が楽、混線した、など）を引用して補足する

---

## ⑥ 限界と今後
- 本評価は **1階層スレッド（Slack型）**を対象とする
- タスク内容や参加者のLLM経験により評価が変化し得る
- 今後、多段スレッドやツリー可視化（マップ型）など、別UI形態との比較が課題となる

